# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

MSG –ó–∞–∫—É–ø–∫–∏ - –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –≤–µ—Å–∞ –º–µ—Ç–∞–ª–ª–æ–ø—Ä–æ–∫–∞—Ç–∞ –ø–æ –ì–û–°–¢ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞—è–≤–∫–∏ (Excel, PDF, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ç–µ–∫—Å—Ç), –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–µ—Å –º–µ—Ç–∞–ª–ª–∞ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º.

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:**
- –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π HTML —Ñ–∞–π–ª (index.html) —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º CSS –∏ JavaScript
- Tailwind CSS (CDN)
- –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ: GitHub Pages –Ω–∞ https://lamblackout.github.io/msgnn-calculator/

## –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–¢–û–õ–¨–ö–û –ß–¢–ï–ù–ò–ï)

‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –°–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –∏—Ö –ù–ï–õ–¨–ó–Ø –∏–∑–º–µ–Ω—è—Ç—å:**

- `c:\Users\Skylake\metal-calculator\docs\database\metals.json` - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ—Ç–∞–ª–ª–æ–≤ —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏ –ì–û–°–¢
- `c:\Users\Skylake\metal-calculator\src\calculator.js` - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–∞—Å—á—ë—Ç–æ–≤

–≠—Ç–∏ —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –≤ `index.html`.

## –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```bash
git add index.html
git commit -m "fix: –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è - vX.XX"
git push
```

–ü–æ—Å–ª–µ push —Å–∞–π—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ GitHub Pages (–æ–±—ã—á–Ω–æ –≤ —Ç–µ—á–µ–Ω–∏–µ 1-2 –º–∏–Ω—É—Ç).

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–û—Ç–∫—Ä—ã—Ç—å `index.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å live server. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–≤–µ—Ä—è—Ç—å—Å—è —Å —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º: https://nn.23met.ru/calculator

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ (index.html)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞
–ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π HTML —Ñ–∞–π–ª —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å–µ–∫—Ü–∏–∏:
1. **HTML —Ä–∞–∑–º–µ—Ç–∫–∞** (—Å—Ç—Ä–æ–∫–∏ 1-500): –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å drag-and-drop –∑–æ–Ω–æ–π, —Ç–∞–±–ª–∏—Ü–µ–π –ø–æ–∑–∏—Ü–∏–π
2. **CSS —Å—Ç–∏–ª–∏** (—Å—Ç—Ä–æ–∫–∏ 8-250): Tailwind + –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è drag-drop, —Ç–∞–±–ª–∏—Ü, —Å—Ç–∞—Ç—É—Å–æ–≤
3. **JavaScript –ª–æ–≥–∏–∫–∞** (—Å—Ç—Ä–æ–∫–∏ 500-3000+): state management, –ø–∞—Ä—Å–∏–Ω–≥, —Ä–∞—Å—á—ë—Ç—ã, API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ç–∏–ø–æ–≤ –º–µ—Ç–∞–ª–ª–∞ (~—Å—Ç—Ä–æ–∫–∏ 900-980)

```javascript
const TYPES_WITHOUT_PIECES = [...]  // –ú–µ—Ç–∞–ª–ª—ã –±–µ–∑ –ø–æ–ª—è "—à—Ç—É–∫–∏" (–∫–∞–Ω–∞—Ç—ã, –ø—Ä–æ–≤–æ–ª–æ–∫–∞, –ø—Ä–æ—Ñ–Ω–∞—Å—Ç–∏–ª)
const FASTENER_TYPES = [...]        // –ö—Ä–µ–ø—ë–∂ (—Ç–æ–ª—å–∫–æ –≤–µ—Å –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –±–µ–∑ –¥–ª–∏–Ω—ã)
const SHEET_TYPES = [...]           // –õ–∏—Å—Ç–æ–≤—ã–µ —Ç–∏–ø—ã (—à–∏—Ä–∏–Ω–∞/–¥–ª–∏–Ω–∞ –ª–∏—Å—Ç–∞ –≤–º–µ—Å—Ç–æ –¥–ª–∏–Ω—ã)
const TYPES_WITH_STANDARDS = [...]  // –¢–∏–ø—ã —Å –≤—ã–±–æ—Ä–æ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ (–ø—Ä–æ—Ñ–Ω–∞—Å—Ç–∏–ª, —Ä–µ–ª—å—Å—ã, –ª–∏—Å—Ç—ã –ü–í/—Ä–∏—Ñ–ª—ë–Ω—ã–µ/–æ–∫—Ä–∞—à)
const TYPES_WITHOUT_STEEL = [...]   // –¢–∏–ø—ã –±–µ–∑ –≤—ã–±–æ—Ä–∞ –º–∞—Ä–∫–∏ —Å—Ç–∞–ª–∏ (–±–∞–∑–∞ —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã)
const TYPES_WITH_LENGTH_PIECE = [...] // –¢–∏–ø—ã —Å –ø–æ–ª–µ–º "–î–ª–∏–Ω–∞ 1 —à—Ç"
```

–≠—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫–∏–µ –ø–æ–ª—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –º–µ—Ç–∞–ª–ª–∞.

### –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤/–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤** (~—Å—Ç—Ä–æ–∫–∞ 1167):
```javascript
function getStandardsForMetal(metalKey, size)
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ –¥–ª—è –º–µ—Ç–∞–ª–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ø—Ä–æ—Ñ–Ω–∞—Å—Ç–∏–ª–∞ –ù–°35: —Ä–∞–∑–Ω—ã–µ —Ç–æ–ª—â–∏–Ω—ã –ø–æ –ì–û–°–¢ 24045).

**–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã** (~—Å—Ç—Ä–æ–∫–∞ 1600):
```javascript
function renderRow(item, index)
```
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTML —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã —Å –ø–æ–ª—è–º–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –º–µ—Ç–∞–ª–ª–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `getFieldsConfig()` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–æ–ª–µ–π.

**–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π** (~—Å—Ç—Ä–æ–∫–∏ 1790-1850):
```javascript
function onSizeChange(index, value)    // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ -> –ø–µ—Ä–µ—Å—á—ë—Ç
function onFieldChange(index, field, value)  // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª—é–±–æ–≥–æ –ø–æ–ª—è
function onSteelChange(index, value)   // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–∞—Ä–∫–∏ —Å—Ç–∞–ª–∏ -> –ø–µ—Ä–µ—Å—á—ë—Ç
function onStandardChange(index, value) // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ -> –ø–µ—Ä–µ—Å—á—ë—Ç
```

**–ü–µ—Ä–µ—Å—á—ë—Ç —Å—Ç—Ä–æ–∫–∏** (~—Å—Ç—Ä–æ–∫–∞ 1980):
```javascript
function recalculateRow(index, changedField)
```
–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ—Å—á—ë—Ç–∞. –°–æ–±–∏—Ä–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (size, steel, standard) –∏ –≤—ã–∑—ã–≤–∞–µ—Ç `calculateMetal()`. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å —É—á—ë—Ç–æ–º —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞ (–æ–±—ä–µ–∫—Ç/—á–∏—Å–ª–æ/—Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å actual).

### –ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ –≤ calculateMetal

–í 4 –º–µ—Å—Ç–∞—Ö –∫–æ–¥–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Ä–∞—Å—á—ë—Ç–æ–≤:
```javascript
params.standard = standardObj;  // {name: "...", coefficient: X.XX}
```

–ò—Å–∫–∞—Ç—å –ø–æ —Å—Ç—Ä–æ–∫–µ `params.standard = standardObj` (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ —Å—Ç—Ä–æ–∫–∏ 1895, 2005, 2295, 2835).

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–ª–µ–π

```javascript
function getFieldsConfig(metalKey) // ~—Å—Ç—Ä–æ–∫–∞ 1240
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å —Ñ–ª–∞–≥–∞–º–∏:
- `isSheet` - –ª–∏—Å—Ç–æ–≤–æ–π —Ç–∏–ø (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —à–∏—Ä–∏–Ω—É/–¥–ª–∏–Ω—É)
- `isFastener` - –∫—Ä–µ–ø—ë–∂ (—Å–∫—Ä—ã—Ç—å –¥–ª–∏–Ω—É)
- `noPieces` - —Å–∫—Ä—ã—Ç—å —à—Ç—É–∫–∏
- `hasStandards` - –ø–æ–∫–∞–∑–∞—Ç—å –≤—ã–±–æ—Ä —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞
- `noSteel` - —Å–∫—Ä—ã—Ç—å –º–∞—Ä–∫—É —Å—Ç–∞–ª–∏
- `hasLengthPiece` - –ø–æ–∫–∞–∑–∞—Ç—å "–î–ª–∏–Ω–∞ 1 —à—Ç"

## –¢–∏–ø—ã –º–µ—Ç–∞–ª–ª–æ–≤ –∏ –∏—Ö –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –õ–∏—Å—Ç–æ–≤—ã–µ —Ç–∏–ø—ã (SHEET_TYPES)
- –ò–º–µ—é—Ç –ø–æ–ª—è "–®–∏—Ä–∏–Ω–∞" –∏ "–î–ª–∏–Ω–∞" –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ "–ú–µ—Ç—Ä—ã"
- –ü–æ–ª–µ "–ú–µ—Ç—Ä—ã" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–ª–æ—â–∞–¥—å –≤ –º¬≤
- –ü—Ä–∏–º–µ—Ä—ã: –ª–∏—Å—Ç—ã –≥/–∫, —Ö/–∫, –æ—Ü–∏–Ω–∫, –æ–∫—Ä–∞—à–µ–Ω–Ω—ã–µ, —Ä–∏—Ñ–ª—ë–Ω—ã–µ, –ü–í

### –¢–∏–ø—ã —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º–∏ (TYPES_WITH_STANDARDS)
- –ü—Ä–æ—Ñ–Ω–∞—Å—Ç–∏–ª (–æ–∫—Ä–∞—à/–æ—Ü): –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –∏ —Ç–æ–ª—â–∏–Ω—ã (–ù–°35 0.6—Ö1000, 0.7—Ö1000 –∏ —Ç.–¥.)
- –†–µ–ª—å—Å—ã: –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ (–ì–û–°–¢, EN, AREMA)
- –õ–∏—Å—Ç –ü–í/–ü–í –æ—Ü: –≤—ã–±–æ—Ä –¢–£ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞
- –õ–∏—Å—Ç —Ä–∏—Ñ–ª—ë–Ω—ã–π: –≤—ã–±–æ—Ä —Ç–∏–ø–∞ —Ä–∏—Ñ–ª–µ–Ω–∏—è (—á–µ—á–µ–≤–∏—Ü–∞/—Ä–æ–º–±)
- –õ–∏—Å—Ç –æ–∫—Ä–∞—à–µ–Ω–Ω—ã–π: –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –æ—Ü–∏–Ω–∫–æ–≤–∫–∏ (I –∫–ª–∞—Å—Å, II –∫–ª–∞—Å—Å)

### –¢–∏–ø—ã –±–µ–∑ –º–∞—Ä–∫–∏ —Å—Ç–∞–ª–∏ (TYPES_WITHOUT_STEEL)
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω—É–∂–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã, –º–∞—Ä–∫–∞ —Å—Ç–∞–ª–∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞—Å—á—ë—Ç. –ü—Ä–∏–º–µ—Ä—ã: –ø—Ä–æ—Ñ–Ω–∞—Å—Ç–∏–ª, —à–ø—É–Ω—Ç—ã, —Ä–µ–ª—å—Å—ã.

### –û—Ü–∏–Ω–∫–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã
–ü—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ –≤–µ—Å–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –æ—Ü–∏–Ω–∫–æ–≤–∫–∏ 1.03 (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≤–µ—Å —Ü–∏–Ω–∫–æ–≤–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è). –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `recalculateRow`.

### –§–æ—Ä–º—É–ª—ã —Ä–∞—Å—á—ë—Ç–∞

–§–æ—Ä–º—É–ª—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö metals.json. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∏–ø—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:
- `profnastil_area` - —Ä–∞—Å—á—ë—Ç –ø–æ –ø–ª–æ—â–∞–¥–∏ —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞
- `rels_linear` - –ª–∏–Ω–µ–π–Ω—ã–π –≤–µ—Å —Ä–µ–ª—å—Å–∞ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É
- `shpynt_3fields` - —à–ø—É–Ω—Ç—ã —Å —Ç—Ä–µ–º—è –ø–æ–ª—è–º–∏ –≤–≤–æ–¥–∞ (—Ç–∏–ø/—Ä–∞–∑–º–µ—Ä/–º–µ—Ç–æ–¥)

## –û—Ç–ª–∞–¥–∫–∞

### –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –ª–æ–≥–∏
–ö–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ `console.log` —Å —ç–º–æ–¥–∑–∏-–ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏:
- üìã - –ø–∞—Ä—Å–∏–Ω–≥ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- üîÑ - –ø–µ—Ä–µ—Å—á—ë—Ç —Å—Ç—Ä–æ–∫–∏
- üìä - —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á—ë—Ç–∞
- ‚ùå - –æ—à–∏–±–∫–∞
- ‚úÖ - —É—Å–ø–µ—à–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
- üîç - –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–û—Ç–∫—Ä—ã—Ç—å Chrome DevTools (F12) ‚Üí Console –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è.

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–í–µ—Å –Ω–µ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–º–µ–Ω–µ —Ä–∞–∑–º–µ—Ä–∞/–º–∞—Ä–∫–∏**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `onSizeChange`/`onSteelChange` –≤—ã–∑—ã–≤–∞–µ—Ç `recalculateRow(index)`

2. **–°—Ç–∞–Ω–¥–∞—Ä—Ç –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–¥–∞—á—É `params.standard = standardObj` –≤–æ –≤—Å–µ—Ö 4 –º–µ—Å—Ç–∞—Ö –≤—ã–∑–æ–≤–∞ `calculateMetal`
   - –°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–±—ä–µ–∫—Ç–æ–º `{name, coefficient}`, –Ω–µ —Å—Ç—Ä–æ–∫–æ–π

3. **–ü–æ–ª—è –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è/–Ω–µ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ç–∏–ø–æ–≤ (SHEET_TYPES, FASTENER_TYPES –∏ —Ç.–¥.)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `getFieldsConfig()` –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –º–µ—Ç–∞–ª–ª–∞

4. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á —Ç–∏–ø–∞ –º–µ—Ç–∞–ª–ª–∞**
   - –ü—Ä–∏–º–µ—Ä: `sheet_riffle` ‚Üí `sheet_checkered`
   - –°–≤–µ—Ä–∏—Ç—å —Å metals.json –∏–∑ metal-calculator

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏

–í–µ—Ä—Å–∏—è —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫–æ–º–º–∏—Ç–∞. –§–æ—Ä–º–∞—Ç –≤–µ—Ä—Å–∏–∏: `vX.YY` (–Ω–∞–ø—Ä–∏–º–µ—Ä, v4.61).

–ü—Ä–∏ –∫–æ–º–º–∏—Ç–µ —É–∫–∞–∑—ã–≤–∞—Ç—å:
- `fix:` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- `feat:` - –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- `chore:` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏
- `debug:` - –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –∫–æ–º–º–∏—Ç

–ü—Ä–∏–º–µ—Ä: `git commit -m "fix: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ä–∞—Å—á—ë—Ç —à–≤–µ–ª–ª–µ—Ä–∞ –≥–Ω—É—Ç–æ–≥–æ - v4.62"`

## API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å n8n workflows

Frontend –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å backend —á–µ—Ä–µ–∑ n8n webhooks, —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–µ –Ω–∞ Railway.

### –ë–∞–∑–æ–≤—ã–π URL
```
https://primary-production-4e88.up.railway.app/webhook
```

### Endpoints

**1. –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤** (`/calc-parse`)
- **–ú–µ—Ç–æ–¥**: POST
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ Excel, PDF, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–ó–∞–ø—Ä–æ—Å**: multipart/form-data —Å —Ñ–∞–π–ª–æ–º
- **–û—Ç–≤–µ—Ç**: –º–∞—Å—Å–∏–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –º–µ—Ç–∞–ª–ª–∞

**2. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º** (`/supplier-request`)
- **–ú–µ—Ç–æ–¥**: POST
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ Excel —Å –ø–æ–∑–∏—Ü–∏—è–º–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
- **–ó–∞–ø—Ä–æ—Å**: JSON —Å –º–∞—Å—Å–∏–≤–æ–º –ø–æ–∑–∏—Ü–∏–π
- **–û—Ç–≤–µ—Ç**:
  ```json
  {
    "excel_base64": "...",
    "filename": "–ó–∞–ø—Ä–æ—Å_–ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º_YYYY-MM-DD.xlsx"
  }
  ```

**3. –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º** (`/send-supplier-request`)
- **–ú–µ—Ç–æ–¥**: POST
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–∞—Å—Å—ã–ª–∫–∞ email –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º —á–µ—Ä–µ–∑ Resend API
- **–ó–∞–ø—Ä–æ—Å**:
  ```json
  {
    "request_id": "...",
    "category": "nn|moscow|factories",
    "items": [...],
    "totals": {...}
  }
  ```
- **–û—Ç–≤–µ—Ç**: —Å—Ç–∞—Ç—É—Å –æ—Ç–ø—Ä–∞–≤–∫–∏

**4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–¥–∫–∏** (`/get-supplier-summary?request_id=...`)
- **–ú–µ—Ç–æ–¥**: GET
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–¥–∫—É –ª—É—á—à–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- **–û—Ç–≤–µ—Ç**: Excel —Ñ–∞–π–ª —Å–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º —Ü–µ–Ω

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–∏ –º–µ—Ç–∞–ª–ª–∞

```json
{
  "metal_key": "sheet_hot",
  "metal_name": "–õ–∏—Å—Ç –≥/–∫",
  "size": "10",
  "steel": "–°—Ç3—Å–ø",
  "standard": {"name": "0.6—Ö1000 –ì–û–°–¢ 24045", "coefficient": 6.4},
  "pieces": 10,
  "length_piece": 6.0,
  "total_length": 60.0,
  "sheet_width": 1.25,
  "sheet_length": 2.5,
  "weight": 4.71,
  "comment": "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä–∞"
}
```

### Backend —Å—Ç–µ–∫ (—á–µ—Ä–µ–∑ n8n workflows)

- **Database**: Supabase (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤, –ø–æ–∑–∏—Ü–∏–π, –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤)
- **Email**: Resend API (—Ä–∞—Å—Å—ã–ª–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º)
- **–•–æ—Å—Ç–∏–Ω–≥**: Railway (n8n workflows)
- **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ Excel**: ExcelJS (–≤–Ω—É—Ç—Ä–∏ n8n workflows)

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –∫–æ–¥–µ

```javascript
window.currentExcelBase64 // –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π Excel –≤ base64
window.currentExcelFilename // –ò–º—è —Ñ–∞–π–ª–∞ Excel
window.currentSupplierRequest // –î–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
```

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- [CLAUDE_HANDOFF.md](CLAUDE_HANDOFF.md) - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ª–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–µ—Ä—Å–∏–π v4.30-v4.61, –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –º–µ—Å—Ç–∞ –≤ –∫–æ–¥–µ –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [README.md](README.md) - –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [N8N_WORKFLOWS.md](N8N_WORKFLOWS.md) - –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è backend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (n8n workflows, Supabase, Resend API)
